<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prathyusha & Sravan Wedding</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }
        
        .nav-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            font-weight: 600;
            color: #ec4899;
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }
        
        .nav-links a {
            text-decoration: none;
            color: #374151;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .nav-links a:hover {
            color: #ec4899;
        }
        
        .mobile-menu {
            display: none;
            flex-direction: column;
            cursor: pointer;
        }
        
        .mobile-menu span {
            width: 25px;
            height: 3px;
            background: #374151;
            margin: 3px 0;
            transition: 0.3s;
        }
        
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            background: linear-gradient(
                135deg,
                rgba(255, 236, 210, 0.9) 0%,
                rgba(252, 182, 159, 0.9) 100%
            );
            color: white;
            position: relative;
            padding-top: 80px;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            inset: 0;
            background: url('https://images.unsplash.com/photo-1519741497674-611481863552?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80') center/cover;
            z-index: -2;
        }
        
        .hero::after {
            content: '';
            position: absolute;
            inset: 0;
            background: rgba(0,0,0,0.4);
            z-index: -1;
        }
        
        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 800px;
            padding: 2rem;
        }
        
        .couple-photo {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            border: 5px solid white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            margin: 0 auto 2rem;
            background: url('https://images.unsplash.com/photo-1606216794074-735e91aa2c92?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80') center/cover;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            text-align: center;
            animation: float 3s ease-in-out infinite;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .couple-photo:hover {
            transform: scale(1.05);
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        }
        
        .couple-photo.has-image {
            background-size: cover;
            background-position: center;
        }
        
        .couple-photo.has-image div {
            display: none;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .heart {
            font-size: 3rem;
            color: #ec4899;
            margin-bottom: 1rem;
            animation: heartbeat 1.5s ease-in-out infinite;
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .couple-names {
            font-family: 'Dancing Script', cursive;
            font-size: 4rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .engagement-date {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            opacity: 0.9;
        }
        
        .venue {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }
        
        .story {
            font-size: 1.2rem;
            margin: 0 auto 3rem;
            line-height: 1.6;
            opacity: 0.95;
        }
        
        .buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 2rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
            border: none;
            font-size: 1rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);
            color: white;
        }
        
        .btn-secondary {
            background: white;
            color: #374151;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        
        .section {
            padding: 5rem 2rem;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .section-title {
            text-align: center;
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .section-subtitle {
            text-align: center;
            font-size: 1.2rem;
            color: #6b7280;
            max-width: 600px;
            margin: 0 auto 3rem;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }
        
        .stat-card {
            background: white;
            padding: 2rem;
            border-radius: 1rem;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-icon {
            width: 4rem;
            height: 4rem;
            border-radius: 50%;
            background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 1.5rem;
            color: white;
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            color: #6b7280;
            font-weight: 500;
        }
        
        .upload-section {
            background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);
            color: white;
        }
        
        .upload-section .section-title {
            color: white;
            background: none;
            -webkit-text-fill-color: white;
        }
        
        .upload-section .section-subtitle {
            color: rgba(255,255,255,0.9);
        }
        
        .upload-area {
            background: rgba(255,255,255,0.1);
            border: 2px dashed rgba(255,255,255,0.5);
            border-radius: 1rem;
            padding: 3rem;
            text-align: center;
            margin-bottom: 2rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .upload-area:hover, .upload-area.dragover {
            border-color: white;
            background: rgba(255,255,255,0.2);
        }
        
        .upload-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        
        .upload-text {
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }
        
        .upload-hint {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .file-input {
            display: none;
        }
        
        .upload-progress {
            display: none;
            background: rgba(255,255,255,0.1);
            border-radius: 1rem;
            padding: 1rem;
            margin-top: 1rem;
        }
        
        .progress-bar {
            background: rgba(255,255,255,0.2);
            border-radius: 1rem;
            height: 8px;
            overflow: hidden;
        }
        
        .progress-fill {
            background: white;
            height: 100%;
            border-radius: 1rem;
            transition: width 0.3s ease;
            width: 0%;
        }
        
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .gallery-item {
            background: white;
            border-radius: 1rem;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        
        .gallery-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        
        .gallery-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        
        .gallery-video {
            width: 100%;
            height: 200px;
        }
        
        .gallery-info {
            padding: 1rem;
        }
        
        .gallery-name {
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 0.5rem;
        }
        
        .gallery-message {
            color: #6b7280;
            font-size: 0.9rem;
        }
        
        .wishes-section {
            background: white;
        }
        
        .wishes-form {
            max-width: 600px;
            margin: 0 auto;
            background: #f9fafb;
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-label {
            display: block;
            font-weight: 600;
            color: #374151;
            margin-bottom: 0.5rem;
        }
        
        .form-input {
            width: 100%;
            padding: 1rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #ec4899;
            box-shadow: 0 0 0 3px rgba(236, 72, 153, 0.1);
        }
        
        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        .wishes-display {
            margin-top: 3rem;
        }
        
        .wish-card {
            background: white;
            padding: 1.5rem;
            border-radius: 1rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 1rem;
        }
        
        .wish-author {
            font-weight: 600;
            color: #ec4899;
            margin-bottom: 0.5rem;
        }
        
        .wish-message {
            color: #6b7280;
            line-height: 1.6;
        }
        
        .footer {
            background: #1f2937;
            color: white;
            text-align: center;
            padding: 2rem;
        }
        
        /* Interactive Side Panel */
        .side-panel {
            position: fixed;
            top: 50%;
            right: -320px;
            transform: translateY(-50%);
            width: 300px;
            max-height: 80vh;
            background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);
            border-radius: 20px 0 0 20px;
            box-shadow: -10px 0 30px rgba(0,0,0,0.3);
            transition: right 0.3s ease;
            z-index: 1001;
            overflow-y: auto;
            color: white;
        }
        
        .side-panel.open {
            right: 0;
        }
        
        .side-panel-toggle {
            position: absolute;
            left: -50px;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 100px;
            background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);
            border-radius: 20px 0 0 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.5rem;
            transition: all 0.3s ease;
        }
        
        .side-panel-toggle:hover {
            transform: translateY(-50%) scale(1.1);
        }
        
        .side-panel-content {
            padding: 2rem 1.5rem;
        }
        
        .panel-section {
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }
        
        .panel-section:last-child {
            border-bottom: none;
        }
        
        .panel-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            text-align: center;
        }
        
        .mini-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }
        
        .mini-stat {
            background: rgba(255,255,255,0.1);
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
        }
        
        .mini-stat-number {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }
        
        .mini-stat-label {
            font-size: 0.8rem;
            opacity: 0.9;
        }
        
        .love-meter {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 1rem;
            text-align: center;
            margin-bottom: 1rem;
        }
        
        .love-meter-bar {
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            height: 20px;
            margin: 1rem 0;
            overflow: hidden;
        }
        
        .love-meter-fill {
            background: linear-gradient(90deg, #ff6b6b, #ff8e8e, #ffa8a8);
            height: 100%;
            border-radius: 10px;
            width: 100%;
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        
        .interactive-game {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 1rem;
            margin-bottom: 1rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .interactive-game:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.05);
        }
        
        .game-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .game-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .game-description {
            font-size: 0.8rem;
            opacity: 0.9;
        }
        
        .countdown-timer {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 1rem;
            text-align: center;
        }
        
        .countdown-number {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        .countdown-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .fun-fact {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 1rem;
            text-align: center;
            margin-bottom: 1rem;
        }
        
        .fun-fact-icon {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }
        
        .fun-fact-text {
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        .modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }
        
        .modal-content {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .modal-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1f2937;
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #6b7280;
        }
        
        .close-btn:hover {
            color: #374151;
        }
        
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .mobile-menu {
                display: flex;
            }
            
            .couple-names {
                font-size: 2.5rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .gallery-grid {
                grid-template-columns: 1fr;
            }
            
            .couple-photo {
                width: 150px;
                height: 150px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-content">
            <div class="logo">P & S</div>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#gallery">Gallery</a></li>
                <li><a href="#upload">Upload</a></li>
                <li><a href="#wishes">Wishes</a></li>
            </ul>
            <div class="mobile-menu">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <div class="couple-photo" id="couplePhoto" onclick="uploadCouplePhoto()">
                <div style="background: rgba(0,0,0,0.5); padding: 0.5rem; border-radius: 10px;">Click to update<br>couple photo</div>
            </div>
            <input type="file" id="couplePhotoInput" accept="image/*" style="display: none;">
            <div class="heart">💕</div>
            <h1 class="couple-names">Prathyusha & Sravan</h1>
            <p class="engagement-date">💍 Engagement: 10:00 AM</p>
            <p class="venue">📍 <a href="https://share.google/AD4JvxEL5taE2IVYp" target="_blank" style="color: white; text-decoration: underline;">Itihaas</a></p>
            <p class="story">Two hearts, one love story. Join us as we celebrate the beginning of our forever journey together.</p>
            <div class="buttons">
                <a href="#gallery" class="btn btn-secondary">
                    📸 View Gallery
                </a>
                <a href="#upload" class="btn btn-primary">
                    💕 Share Memories
                </a>
                <a href="#wishes" class="btn btn-secondary">
                    ✨ Send Wishes
                </a>
            </div>
        </div>
    </section>

    <!-- Interactive Side Panel -->
    <div class="side-panel" id="sidePanel">
        <div class="side-panel-toggle" onclick="toggleSidePanel()">
            💕
        </div>
        
        <div class="side-panel-content">
            <!-- Stats Section -->
            <div class="panel-section">
                <h3 class="panel-title">📊 Our Journey</h3>
                <div class="mini-stats">
                    <div class="mini-stat">
                        <div class="mini-stat-number" id="photoCount">0</div>
                        <div class="mini-stat-label">📸 Photos</div>
                    </div>
                    <div class="mini-stat">
                        <div class="mini-stat-number" id="videoCount">0</div>
                        <div class="mini-stat-label">🎥 Videos</div>
                    </div>
                    <div class="mini-stat">
                        <div class="mini-stat-number" id="wishCount">0</div>
                        <div class="mini-stat-label">💌 Wishes</div>
                    </div>
                    <div class="mini-stat">
                        <div class="mini-stat-number" id="contributorCount">0</div>
                        <div class="mini-stat-label">👥 Guests</div>
                    </div>
                </div>
            </div>
            
            <!-- Love Meter -->
            <div class="panel-section">
                <h3 class="panel-title">💕 Love Meter</h3>
                <div class="love-meter">
                    <div>Prathyusha & Sravan</div>
                    <div class="love-meter-bar">
                        <div class="love-meter-fill"></div>
                    </div>
                    <div>∞ Love Level: MAXIMUM! ∞</div>
                </div>
            </div>
            
            <!-- Countdown Timer -->
            <div class="panel-section">
                <h3 class="panel-title">⏰ Engagement Day</h3>
                <div class="countdown-timer" id="countdownTimer">
                    <div class="countdown-number" id="daysLeft">0</div>
                    <div class="countdown-label">Days to Celebrate!</div>
                </div>
            </div>
            
            <!-- Interactive Games -->
            <div class="panel-section">
                <h3 class="panel-title">🎮 Fun Zone</h3>
                
                <div class="interactive-game" onclick="playLoveQuiz()">
                    <div class="game-icon">❤️</div>
                    <div class="game-title">Love Quiz</div>
                    <div class="game-description">Test your knowledge about the couple!</div>
                </div>
                
                <div class="interactive-game" onclick="generateLoveMessage()">
                    <div class="game-icon">💝</div>
                    <div class="game-title">Love Message Generator</div>
                    <div class="game-description">Get a romantic message for the couple</div>
                </div>
                
                <div class="interactive-game" onclick="showFunFact()">
                    <div class="game-icon">🌟</div>
                    <div class="game-title">Love Facts</div>
                    <div class="game-description">Discover interesting facts about love</div>
                </div>
                
                <div class="interactive-game" onclick="playMemoryMatch()">
                    <div class="game-icon">🧩</div>
                    <div class="game-title">Memory Match</div>
                    <div class="game-description">Match wedding-themed emojis</div>
                </div>
            </div>
            
            <!-- Fun Facts -->
            <div class="panel-section">
                <h3 class="panel-title">✨ Did You Know?</h3>
                <div class="fun-fact" id="funFact">
                    <div class="fun-fact-icon">💍</div>
                    <div class="fun-fact-text">The tradition of wearing wedding rings on the fourth finger comes from the ancient belief that a vein in this finger leads directly to the heart!</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Gallery Section -->
    <section id="gallery" class="section">
        <div class="container">
            <h2 class="section-title">Memory Gallery</h2>
            <p class="section-subtitle">Beautiful moments captured and shared by our loved ones</p>
            
            <div class="gallery-grid" id="galleryGrid">
                <!-- Gallery items will be added here dynamically -->
            </div>
            
            <div id="emptyGallery" style="text-align: center; padding: 3rem; color: #6b7280;">
                <div style="font-size: 3rem; margin-bottom: 1rem;">📷</div>
                <p style="font-size: 1.2rem; margin-bottom: 0.5rem;">No memories shared yet!</p>
                <p>Be the first to upload photos and videos.</p>
                <a href="#upload" class="btn btn-primary" style="margin-top: 1rem;">Upload Now</a>
            </div>
        </div>
    </section>

    <!-- Upload Section -->
    <section id="upload" class="section upload-section">
        <div class="container">
            <h2 class="section-title">Share Your Memories</h2>
            <p class="section-subtitle">Help us capture every beautiful moment of our special day!</p>
            <div style="background: rgba(255,255,255,0.1); padding: 1rem; border-radius: 0.5rem; margin-bottom: 2rem; font-size: 0.9rem;">
                <strong>📱 Note:</strong> Uploaded photos and wishes are currently saved locally on each device. For true sharing across all visitors, we recommend sharing the link and asking guests to visit from the same device/location, or consider using a shared photo album service alongside this website.
            </div>
            
            <div class="upload-area" onclick="document.getElementById('fileInput').click()">
                <div class="upload-icon">📤</div>
                <div class="upload-text">Click to upload or drag and drop</div>
                <div class="upload-hint">Photos, videos up to 10MB each</div>
            </div>
            
            <input type="file" id="fileInput" class="file-input" multiple accept="image/*,video/*">
            
            <div class="upload-progress" id="uploadProgress">
                <div style="margin-bottom: 0.5rem;">Uploading...</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>
            
            <div id="uploadForm" style="display: none; background: rgba(255,255,255,0.1); padding: 2rem; border-radius: 1rem; margin-top: 2rem;">
                <div class="form-group">
                    <label class="form-label" style="color: white;">Your Name</label>
                    <input type="text" id="uploaderName" class="form-input" placeholder="Enter your name">
                </div>
                <div class="form-group">
                    <label class="form-label" style="color: white;">Message (Optional)</label>
                    <textarea id="uploaderMessage" class="form-input form-textarea" placeholder="Share a memory or message..."></textarea>
                </div>
                <button onclick="submitUpload()" class="btn btn-secondary">Share Memories</button>
            </div>
        </div>
    </section>

    <!-- Wishes Section -->
    <section id="wishes" class="section wishes-section">
        <div class="container">
            <h2 class="section-title">Wedding Wishes</h2>
            <p class="section-subtitle">Share your blessings and good wishes for our new journey</p>
            
            <div class="wishes-form">
                <div class="form-group">
                    <label class="form-label">Your Name</label>
                    <input type="text" id="wishName" class="form-input" placeholder="Enter your name">
                </div>
                <div class="form-group">
                    <label class="form-label">Your Wishes</label>
                    <textarea id="wishMessage" class="form-input form-textarea" placeholder="Share your heartfelt wishes for the couple..."></textarea>
                </div>
                <button onclick="submitWish()" class="btn btn-primary">Send Wishes ✨</button>
            </div>
            
            <div class="wishes-display" id="wishesDisplay">
                <!-- Wishes will be displayed here -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p style="font-size: 1.2rem; margin-bottom: 0.5rem;">💕 Made with Love for Prathyusha & Sravan</p>
            <p style="opacity: 0.7;">Thank you for being part of our journey! 🎊</p>
        </div>
    </footer>

    <!-- Modal for image/video preview -->
    <div id="previewModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Memory Preview</h3>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div id="modalBody"></div>
        </div>
    </div>

    <script>
        // Persistent storage for memories and wishes - never gets deleted
        let memories = [];
        let wishes = [];
        
        // Multiple storage layers for maximum reliability
        const STORAGE_KEYS = {
            memories: 'PS_WEDDING_MEMORIES_2025',
            wishes: 'PS_WEDDING_WISHES_2025',
            couplePhoto: 'PS_COUPLE_PHOTO_2025'
        };
        
        // Save to multiple storage locations
        function saveToStorage(key, data) {
            const jsonData = JSON.stringify(data);
            
            // Save to localStorage
            try {
                localStorage.setItem(STORAGE_KEYS[key], jsonData);
            } catch (e) {
                console.log('localStorage save failed:', e);
            }
            
            // Save to sessionStorage as backup
            try {
                sessionStorage.setItem(STORAGE_KEYS[key], jsonData);
            } catch (e) {
                console.log('sessionStorage save failed:', e);
            }
            
            // Save to IndexedDB for long-term persistence
            try {
                saveToIndexedDB(key, data);
            } catch (e) {
                console.log('IndexedDB save failed:', e);
            }
        }
        
        // Load from storage with fallbacks
        function loadFromStorage(key) {
            // Try localStorage first
            try {
                const data = localStorage.getItem(STORAGE_KEYS[key]);
                if (data) return JSON.parse(data);
            } catch (e) {
                console.log('localStorage load failed:', e);
            }
            
            // Try sessionStorage as backup
            try {
                const data = sessionStorage.getItem(STORAGE_KEYS[key]);
                if (data) return JSON.parse(data);
            } catch (e) {
                console.log('sessionStorage load failed:', e);
            }
            
            // Try IndexedDB as final fallback
            try {
                return loadFromIndexedDB(key);
            } catch (e) {
                console.log('IndexedDB load failed:', e);
                return [];
            }
        }
        
        // IndexedDB functions for persistent storage
        function saveToIndexedDB(key, data) {
            const request = indexedDB.open('PSWeddingDB', 1);
            request.onupgradeneeded = function(e) {
                const db = e.target.result;
                if (!db.objectStoreNames.contains('wedding')) {
                    db.createObjectStore('wedding');
                }
            };
            request.onsuccess = function(e) {
                const db = e.target.result;
                const transaction = db.transaction(['wedding'], 'readwrite');
                const store = transaction.objectStore('wedding');
                store.put(data, key);
            };
        }
        
        function loadFromIndexedDB(key) {
            return new Promise((resolve) => {
                const request = indexedDB.open('PSWeddingDB', 1);
                request.onsuccess = function(e) {
                    const db = e.target.result;
                    const transaction = db.transaction(['wedding'], 'readonly');
                    const store = transaction.objectStore('wedding');
                    const getRequest = store.get(key);
                    getRequest.onsuccess = function() {
                        resolve(getRequest.result || []);
                    };
                };
                request.onerror = () => resolve([]);
            });
        }
        let selectedFiles = [];

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Load data from persistent storage
            memories = loadFromStorage('memories');
            wishes = loadFromStorage('wishes');
            
            updateStats();
            displayGallery();
            displayWishes();
            setupEventListeners();
            loadCouplePhoto();
            updateCountdown();
            
            // Update countdown every hour
            setInterval(updateCountdown, 3600000);
            
            // Auto-show fun facts every 30 seconds
            setInterval(showFunFact, 30000);
        });

        function setupEventListeners() {
            // File input change
            document.getElementById('fileInput').addEventListener('change', handleFileSelect);
            document.getElementById('couplePhotoInput').addEventListener('change', handleCouplePhotoSelect);
            
            // Drag and drop
            const uploadArea = document.querySelector('.upload-area');
            uploadArea.addEventListener('dragover', handleDragOver);
            uploadArea.addEventListener('dragleave', handleDragLeave);
            uploadArea.addEventListener('drop', handleDrop);
            
            // Smooth scrolling
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });
        }

        function uploadCouplePhoto() {
            document.getElementById('couplePhotoInput').click();
        }

        function handleCouplePhotoSelect(event) {
            const file = event.target.files[0];
            if (file && file.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const couplePhoto = document.getElementById('couplePhoto');
                    couplePhoto.style.backgroundImage = `url(${e.target.result})`;
                    couplePhoto.style.backgroundSize = 'cover';
                    couplePhoto.style.backgroundPosition = 'center';
                    couplePhoto.classList.add('has-image');
                    couplePhoto.innerHTML = '<div style="background: rgba(0,0,0,0.7); padding: 0.3rem; border-radius: 5px; font-size: 0.9rem; opacity: 0; transition: opacity 0.3s;">Click to change</div>';
                    
                    // Show change text on hover
                    couplePhoto.addEventListener('mouseenter', function() {
                        this.querySelector('div').style.opacity = '1';
                    });
                    couplePhoto.addEventListener('mouseleave', function() {
                        this.querySelector('div').style.opacity = '0';
                    });
                    
                    // Save to persistent storage
                    localStorage.setItem(STORAGE_KEYS.couplePhoto, e.target.result);
                    
                    alert('Couple photo updated successfully! 💕');
                };
                reader.readAsDataURL(file);
            }
        }

        function loadCouplePhoto() {
            const savedPhoto = localStorage.getItem(STORAGE_KEYS.couplePhoto);
            if (savedPhoto) {
                const couplePhoto = document.getElementById('couplePhoto');
                couplePhoto.style.backgroundImage = `url(${savedPhoto})`;
                couplePhoto.style.backgroundSize = 'cover';
                couplePhoto.style.backgroundPosition = 'center';
                couplePhoto.classList.add('has-image');
                couplePhoto.innerHTML = '<div style="background: rgba(0,0,0,0.7); padding: 0.3rem; border-radius: 5px; font-size: 0.9rem; opacity: 0; transition: opacity 0.3s;">Click to change</div>';
                
                // Show change text on hover
                couplePhoto.addEventListener('mouseenter', function() {
                    this.querySelector('div').style.opacity = '1';
                });
                couplePhoto.addEventListener('mouseleave', function() {
                    this.querySelector('div').style.opacity = '0';
                });
            }
        }

        function handleFileSelect(event) {
            selectedFiles = Array.from(event.target.files);
            if (selectedFiles.length > 0) {
                document.getElementById('uploadForm').style.display = 'block';
            }
        }

        function handleDragOver(e) {
            e.preventDefault();
            e.currentTarget.classList.add('dragover');
        }

        function handleDragLeave(e) {
            e.currentTarget.classList.remove('dragover');
        }

        function handleDrop(e) {
            e.preventDefault();
            e.currentTarget.classList.remove('dragover');
            selectedFiles = Array.from(e.dataTransfer.files);
            if (selectedFiles.length > 0) {
                document.getElementById('uploadForm').style.display = 'block';
            }
        }

        function submitUpload() {
            const name = document.getElementById('uploaderName').value.trim();
            const message = document.getElementById('uploaderMessage').value.trim();
            
            if (!name) {
                alert('Please enter your name');
                return;
            }
            
            if (selectedFiles.length === 0) {
                alert('Please select files to upload');
                return;
            }
            
            // Simulate upload progress
            const progressDiv = document.getElementById('uploadProgress');
            const progressFill = document.getElementById('progressFill');
            progressDiv.style.display = 'block';
            
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 30;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                    
                    // Process files
                    selectedFiles.forEach(file => {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            const memory = {
                                id: Date.now() + Math.random(),
                                name: name,
                                message: message,
                                type: file.type.startsWith('image/') ? 'image' : 'video',
                                data: e.target.result,
                                filename: file.name,
                                timestamp: new Date().toISOString()
                            };
                            
                            memories.push(memory);
                            saveToStorage('memories', memories);
                            broadcastUpdate('memories', memories);
                        };
                        reader.readAsDataURL(file);
                    });
                    
                    setTimeout(() => {
                        progressDiv.style.display = 'none';
                        progressFill.style.width = '0%';
                        document.getElementById('uploadForm').style.display = 'none';
                        document.getElementById('uploaderName').value = '';
                        document.getElementById('uploaderMessage').value = '';
                        document.getElementById('fileInput').value = '';
                        selectedFiles = [];
                        
                        updateStats();
                        displayGallery();
                        
                        alert('Memories uploaded successfully! 🎉');
                    }, 1000);
                }
                progressFill.style.width = progress + '%';
            }, 100);
        }

        function submitWish() {
            const name = document.getElementById('wishName').value.trim();
            const message = document.getElementById('wishMessage').value.trim();
            
            if (!name || !message) {
                alert('Please fill in both name and wishes');
                return;
            }
            
            const wish = {
                id: Date.now(),
                name: name,
                message: message,
                timestamp: new Date().toISOString()
            };
            
            wishes.push(wish);
            saveToStorage('wishes', wishes);
            broadcastUpdate('wishes', wishes);
            
            document.getElementById('wishName').value = '';
            document.getElementById('wishMessage').value = '';
            
            updateStats();
            displayWishes();
            
            alert('Your wishes have been shared! ✨');
        }

        function updateStats() {
            const photos = memories.filter(m => m.type === 'image').length;
            const videos = memories.filter(m => m.type === 'video').length;
            const contributors = new Set(memories.map(m => m.name)).size;
            
            document.getElementById('photoCount').textContent = photos;
            document.getElementById('videoCount').textContent = videos;
            document.getElementById('wishCount').textContent = wishes.length;
            document.getElementById('contributorCount').textContent = contributors;
        }

        function displayGallery() {
            const galleryGrid = document.getElementById('galleryGrid');
            const emptyGallery = document.getElementById('emptyGallery');
            
            if (memories.length === 0) {
                galleryGrid.style.display = 'none';
                emptyGallery.style.display = 'block';
                return;
            }
            
            galleryGrid.style.display = 'grid';
            emptyGallery.style.display = 'none';
            
            galleryGrid.innerHTML = memories.map(memory => `
                <div class="gallery-item" onclick="previewMemory('${memory.id}')">
                    ${memory.type === 'image' 
                        ? `<img src="${memory.data}" alt="Memory" class="gallery-image">`
                        : `<video src="${memory.data}" class="gallery-video" muted></video>`
                    }
                    <div class="gallery-info">
                        <div class="gallery-name">${memory.name}</div>
                        ${memory.message ? `<div class="gallery-message">${memory.message}</div>` : ''}
                    </div>
                </div>
            `).join('');
        }

        function displayWishes() {
            const wishesDisplay = document.getElementById('wishesDisplay');
            
            if (wishes.length === 0) {
                wishesDisplay.innerHTML = `
                    <div style="text-align: center; padding: 2rem; color: #6b7280;">
                        <div style="font-size: 2rem; margin-bottom: 1rem;">💌</div>
                        <p>No wishes shared yet. Be the first to bless the couple!</p>
                    </div>
                `;
                return;
            }
            
            wishesDisplay.innerHTML = wishes.map(wish => `
                <div class="wish-card">
                    <div class="wish-author">${wish.name}</div>
                    <div class="wish-message">${wish.message}</div>
                </div>
            `).join('');
        }

        function previewMemory(id) {
            const memory = memories.find(m => m.id == id);
            if (!memory) return;
            
            const modal = document.getElementById('previewModal');
            const modalBody = document.getElementById('modalBody');
            
            modalBody.innerHTML = `
                ${memory.type === 'image' 
                    ? `<img src="${memory.data}" style="width: 100%; border-radius: 0.5rem; margin-bottom: 1rem;">`
                    : `<video src="${memory.data}" controls style="width: 100%; border-radius: 0.5rem; margin-bottom: 1rem;"></video>`
                }
                <h4 style="margin-bottom: 0.5rem;">Shared by ${memory.name}</h4>
                ${memory.message ? `<p style="color: #6b7280;">${memory.message}</p>` : ''}
            `;
            
            modal.style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('previewModal').style.display = 'none';
        }

        // Close modal when clicking outside
        document.getElementById('previewModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Initialize shared storage if first time
        if (!localStorage.getItem('sharedWeddingMemories')) {
            localStorage.setItem('sharedWeddingMemories', JSON.stringify([]));
        }
        if (!localStorage.getItem('sharedWeddingWishes')) {
            localStorage.setItem('sharedWeddingWishes', JSON.stringify([]));
        }
        
        // Side panel functionality
        function toggleSidePanel() {
            const panel = document.getElementById('sidePanel');
            panel.classList.toggle('open');
        }
        
        // Countdown timer
        function updateCountdown() {
            const engagementDate = new Date('2025-11-07T10:00:00');
            const now = new Date();
            const diffTime = engagementDate - now;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            const daysElement = document.getElementById('daysLeft');
            if (diffDays > 0) {
                daysElement.textContent = diffDays;
                document.querySelector('.countdown-label').textContent = 'Days until Engagement!';
            } else if (diffDays === 0) {
                daysElement.textContent = 'TODAY!';
                document.querySelector('.countdown-label').textContent = 'Engagement Day!';
            } else {
                daysElement.textContent = Math.abs(diffDays);
                document.querySelector('.countdown-label').textContent = 'Days since Engagement!';
            }
        }
        
        // Interactive games
        function playLoveQuiz() {
            const questions = [
                { q: "What's Prathyusha's favorite color?", a: ["Pink", "Blue", "Purple", "Red"], correct: 0 },
                { q: "Where did they first meet?", a: ["College", "Work", "Online", "Through friends"], correct: 1 },
                { q: "What's their favorite activity together?", a: ["Movies", "Cooking", "Travel", "Gaming"], correct: 2 },
                { q: "What month did they get engaged?", a: ["October", "November", "December", "January"], correct: 1 }
            ];
            
            const randomQ = questions[Math.floor(Math.random() * questions.length)];
            const userAnswer = prompt(`${randomQ.q}\n\n${randomQ.a.map((a, i) => `${i + 1}. ${a}`).join('\n')}\n\nEnter your answer (1-4):`);
            
            if (userAnswer && parseInt(userAnswer) - 1 === randomQ.correct) {
                alert("🎉 Correct! You know them well! 💕");
            } else {
                alert("❤️ Good try! The correct answer was: " + randomQ.a[randomQ.correct]);
            }
        }
        
        function generateLoveMessage() {
            const messages = [
                "May your love story be as magical as a fairy tale! ✨💕",
                "Wishing you endless laughter, joy, and beautiful moments together! 🌟❤️",
                "Your love shines brighter than all the stars in the sky! ⭐💖",
                "May your journey together be filled with adventure and romance! 🌈💝",
                "Two hearts, one soul, infinite love! 💕✨",
                "Your love is the perfect example of 'happily ever after'! 👑💖",
                "May your bond grow stronger with each passing day! 🌱❤️",
                "Wishing you a lifetime of love, laughter, and happiness! 🎊💕"
            ];
            
            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
            alert(`💝 Your Love Message:\n\n"${randomMessage}"`);
        }
        
        function showFunFact() {
            const facts = [
                "💍 The tradition of wearing wedding rings on the fourth finger comes from the ancient belief that a vein in this finger leads directly to the heart!",
                "🌹 Red roses are associated with love because they were the favorite flower of Venus, the Roman goddess of love!",
                "💕 The word 'honeymoon' comes from the ancient practice of newlyweds drinking honey wine for a month after their wedding!",
                "👰 The white wedding dress tradition was started by Queen Victoria in 1840 when she wore white to marry Prince Albert!",
                "💖 It takes only 4 minutes to decide if you like someone or not - love at first sight is scientifically possible!",
                "🎂 The tradition of wedding cakes comes from ancient Rome, where bread was broken over the bride's head for good luck!",
                "💐 Throwing the bouquet tradition comes from ancient times when people believed touching the bride would bring good luck!",
                "🔔 Wedding bells are rung to ward off evil spirits and ensure a happy marriage!"
            ];
            
            const randomFact = facts[Math.floor(Math.random() * facts.length)];
            document.querySelector('.fun-fact-text').textContent = randomFact.substring(2);
            document.querySelector('.fun-fact-icon').textContent = randomFact.substring(0, 2);
        }
        
        function playMemoryMatch() {
            const emojis = ['💕', '💖', '💝', '💍', '👰', '🤵', '🌹', '🎊'];
            const gameEmojis = [...emojis, ...emojis].sort(() => Math.random() - 0.5);
            
            let gameBoard = '';
            for (let i = 0; i < 16; i++) {
                gameBoard += `<button onclick="flipCard(${i})" id="card${i}" style="width:40px;height:40px;margin:2px;font-size:20px;background:#f0f0f0;border:none;border-radius:5px;">❓</button>`;
                if ((i + 1) % 4 === 0) gameBoard += '<br>';
            }
            
            const gameHTML = `
                <div style="text-align:center;padding:20px;background:white;border-radius:15px;max-width:300px;">
                    <h3>💕 Memory Match Game</h3>
                    <p>Find matching pairs!</p>
                    <div id="gameBoard">${gameBoard}</div>
                    <br>
                    <button onclick="closeModal()" style="padding:10px 20px;background:#ec4899;color:white;border:none;border-radius:20px;cursor:pointer;">Close</button>
                </div>
            `;
            
            document.getElementById('modalBody').innerHTML = gameHTML;
            document.getElementById('previewModal').style.display = 'flex';
            
            window.gameEmojis = gameEmojis;
            window.flippedCards = [];
            window.matchedPairs = 0;
        }
        
        function flipCard(index) {
            const card = document.getElementById(`card${index}`);
            if (card.textContent !== '❓' || window.flippedCards.length >= 2) return;
            
            card.textContent = window.gameEmojis[index];
            window.flippedCards.push(index);
            
            if (window.flippedCards.length === 2) {
                setTimeout(() => {
                    const [first, second] = window.flippedCards;
                    if (window.gameEmojis[first] === window.gameEmojis[second]) {
                        window.matchedPairs++;
                        if (window.matchedPairs === 8) {
                            alert('🎉 Congratulations! You matched all pairs! 💕');
                        }
                    } else {
                        document.getElementById(`card${first}`).textContent = '❓';
                        document.getElementById(`card${second}`).textContent = '❓';
                    }
                    window.flippedCards = [];
                }, 1000);
            }
        }
        
        // Broadcast updates to other tabs/windows
        function broadcastUpdate(type, data) {
            localStorage.setItem('lastUpdate', Date.now());
            window.dispatchEvent(new CustomEvent('dataUpdate', { 
                detail: { type, data } 
            }));
        }
        
        // Listen for updates from other tabs
        window.addEventListener('dataUpdate', function(e) {
            if (e.detail.type === 'memories') {
                memories = JSON.parse(localStorage.getItem('sharedWeddingMemories') || '[]');
                updateStats();
                displayGallery();
            } else if (e.detail.type === 'wishes') {
                wishes = JSON.parse(localStorage.getItem('sharedWeddingWishes') || '[]');
                updateStats();
                displayWishes();
            }
        });
    </script>
</body>
</html>